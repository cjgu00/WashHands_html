var grid,data=[],columns=[{id:"uid",name:"User ID",field:"uid"},{id:"start_time",name:"Start Time",field:"startTime"},{id:"duration",name:"Duration",field:"duration"},{id:"location",name:"Location",field:"location"}],options={enableCellNavigation:!1,enableColumnReorder:!1},gridColumns=(grid=new Slick.Grid("#myGrid",data,columns,options)).getColumns();gridColumns[2].width=36,grid.setColumns(gridColumns),grid.autosizeColumns();const uid=document.querySelector("#user-id"),loc=document.querySelector("#location");var records,uidOptionText="All",locOptionText="All";function filterGrid(){let t=0;data.length=0,records.forEach((i=>{i.uid!=uidOptionText&&"All"!=uidOptionText||i.location!=locOptionText&&"All"!=locOptionText||(data[t++]={uid:i.uid,startTime:i.start_time,duration:i.duration,location:i.location})})),grid.invalidate()}function selectUid(t){uidOptionText=t.options[t.selectedIndex].text,filterGrid()}function selectLoc(t){locOptionText=t.options[t.selectedIndex].text,filterGrid()}function getRecord(){$.getJSON("https://washhands-1-p9125375.deta.app/record",(t=>{let i=0,o=[],e=[];(records=t.records).sort(((t,i)=>t.start_time>i.start_time?-1:t.start_time<i.start_time?1:0)),records.forEach((t=>{o.includes(t.uid)||o.push(t.uid),o.sort(),e.includes(t.location)||e.push(t.location),e.sort(),data[i++]={uid:t.uid,startTime:t.start_time,duration:t.duration,location:t.location}})),uid[0]=new Option("All"),o.forEach(((t,i)=>{uid[i+1]=new Option(t)})),loc[0]=new Option("All"),e.forEach(((t,i)=>{loc[i+1]=new Option(t)})),grid.invalidate()}))}$((()=>{getRecord(),function t(){setTimeout((()=>{getRecord(),console.log("New data gotten!"),t()}),6e5)}()}));